(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-119d7dd6"],{"382b":function(t,a,e){"use strict";var s="http://47.97.248.6:81/excelsior/",n="http://47.97.248.6:8888/",o=0,i=1,r=2,c=3,l=4,u=5,d=6,_=7,f=8;a["a"]={baseURL:s,fileUrl:n,TASK_INFO_ZHANCUN:o,TASK_INFO_TORECEIVE:i,TASK_INFO_TOPERFORM:r,TASK_INFO_REDEPLOY:c,TASK_INFO_SPLIT:l,TASK_INFO_TOBEEVALUATED:u,TASK_INFO_BEEVALUATED:d,TASK_INFO_TONOTHING:_,TASK_INFO_SUCCESS:f}},"552f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"wrapper"}},[e("div",{staticClass:"content"},[e("div",{staticClass:"detail-group"},[e("div",{staticClass:"detail-row"},[t._m(0),e("p",[t._v(t._s(t.infos.code))])]),e("div",{staticClass:"detail-row"},[t._m(1),e("p",[t._v(t._s(t.infos.taskname))])]),e("div",{staticClass:"detail-row"},[t._m(2),t.infos.work?e("p",[t._v(t._s(t.infos.work.name))]):t._e()]),e("div",{staticClass:"detail-row"},[t._m(3),e("p",[t._v(t._s(t.infos.createtime))])]),e("div",{staticClass:"detail-row"},[t._m(4),e("p",[t._v(t._s(t.infos.endtime))])]),e("div",{staticClass:"detail-row"},[t._m(5),e("p",[e("span",{staticClass:"urgent urgent3"},t._l(t.infos.level,function(t){return e("i",{key:t,staticClass:"dot"})}),0)])]),e("div",{staticClass:"detail-row"},[t._m(6),e("p",[t._v(t._s(t.infos.content))])])]),e("mt-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.addTask}},[t._v("新增")]),e("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1},on:{"bottom-status-change":t.handleBottomChange}},[e("ul",{staticClass:"list"},[t._l(t.items,function(a,s){return e("li",{key:s,on:{click:function(e){return t.goTaskInfo(a.id)}}},[e("h3",[t._v("\n                        "+t._s(a.taskname)+"\n                        "),e("span",{staticClass:"tag1"},[t._v(t._s(t.getStatusName(a.status)))]),e("span",{staticClass:"urgent urgent3"},t._l(a.level,function(t){return e("i",{key:t,staticClass:"dot"})}),0)]),e("p",[e("span",{staticClass:"publisher"},[t._v(t._s(a.creationUser.orgName))]),e("span",{staticClass:"time"},[t._v(t._s(a.createtime))])])])}),t.allLoaded?e("div",{staticClass:"data-none"},[t._v("没有更多数据了")]):t._e(),e("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[e("mt-spinner",{directives:[{name:"show",rawName:"v-show",value:"loading"==t.bottomStatus,expression:"bottomStatus == 'loading'"}],attrs:{color:"#26a2ff"}})],1)])],2)])],1)])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("i",{staticClass:"iconfont icon-bianhao"}),t._v("任务编号")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("i",{staticClass:"iconfont icon-name"}),t._v("任务名称")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("i",{staticClass:"iconfont icon-leixing"}),t._v("任务类型")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("i",{staticClass:"iconfont icon-icon-system-fn-time"}),t._v("创建时间")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("i",{staticClass:"iconfont icon-icon-system-fn-time"}),t._v("截止时间")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("i",{staticClass:"iconfont icon-jinji"}),t._v("紧急程度")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("i",{staticClass:"iconfont icon-neirong"}),t._v("任务内容")])}],o=(e("28a5"),e("ac6a"),e("f4ac")),i=e("382b"),r=e("a1c8"),c={name:"decomposition",data:function(){return{items:[],query:{pageNum:0,pageSize:10,total:0,objectlist:"",integrityrate:"",feedbacktime:"",checkcontent:"",pid:"",userid:"",pids:"",evaluate:"",publisstate:"",id:"",finishcontext:"",status:"",workid:"",level:"",code:"",content:"",executetime:"",eventid:"",finishfiles:"",checktype:"",checkuser:"",executor:"",taskname:"",tasktype:""},pid:"",infos:"",taskInfoStatus:{TASK_INFO_ZHANCUN:i["a"].TASK_INFO_ZHANCUN,TASK_INFO_TORECEIVE:i["a"].TASK_INFO_TORECEIVE,TASK_INFO_TOPERFORM:i["a"].TASK_INFO_TOPERFORM,TASK_INFO_REDEPLOY:i["a"].TASK_INFO_REDEPLOY,TASK_INFO_SPLIT:i["a"].TASK_INFO_SPLIT,TASK_INFO_TOBEEVALUATED:i["a"].TASK_INFO_TOBEEVALUATED,TASK_INFO_BEEVALUATED:i["a"].TASK_INFO_BEEVALUATED,TASK_INFO_TONOTHING:i["a"].TASK_INFO_TONOTHING,TASK_INFO_SUCCESS:i["a"].TASK_INFO_SUCCESS},allLoaded:!1,bottomStatus:"",end_date:""}},created:function(){this.pid=this.$route.query.pid},mounted:function(){this.getList(),this.getInfos()},watch:{$route:function(){this.pid=this.$route.query.pid},pid:function(){this.getInfos(),this.getList()}},methods:{getInfos:function(){var t=this;o["a"].getInfos(this.$route.query.pid).then(function(a){console.log(a.data.data),t.infos=a.data.data})},getList:function(){var t=this;o["a"].list("myTaskDecomposeList?pid="+this.pid,this.query).then(function(a){console.log("我是"),console.log(a.data.data),a.data.data.records&&a.data.data.records.forEach(function(t){var a=t.createtime.split(" ");t.createtime=a[0]}),t.items=a.data.data.records||[],t.query.pageNum=a.data.data.current,t.query.pageSize=a.data.data.size,t.query.total=a.data.data.total,a.data.data.records?a.data.data.records.length<a.data.data.size&&(t.allLoaded=!0,t.$refs.loadmore.onBottomLoaded()):(t.allLoaded=!0,t.$refs.loadmore.onBottomLoaded()),t.handleBottomChange("loadingEnd")})},handleBottomChange:function(t){this.bottomStatus=t},loadBottom:function(){this.handleBottomChange("loading"),this.query.pageNum++,this.getList()},getTimeStamp:function(t){var a=t,e=new Date(a),s=Date.parse(e)/1e3;return s},addTask:function(){this.$router.push({path:"/home/publishTask",query:{pid:this.pid}})},getStatusName:function(t){if(t===i["a"].TASK_INFO_ZHANCUN)return"待接受";if(Object(r["a"])(t))return"";switch(!0){case t==i["a"].TASK_INFO_TORECEIVE:return"接受失败";case t==i["a"].TASK_INFO_TOPERFORM:return"待执行";case t==i["a"].TASK_INFO_REDEPLOY:return"已转派";case t==i["a"].TASK_INFO_SPLIT:return"已拆分";case t==i["a"].TASK_INFO_TOBEEVALUATED:return"已执行";case t==i["a"].TASK_INFO_BEEVALUATED:return"已评价";case t==i["a"].TASK_INFO_TONOTHING:return"注销";case t==i["a"].TASK_INFO_SUCCESS:return"成功";default:return""}},goTaskInfo:function(t){console.log(t),this.$router.push({path:"/home/decompositionTaskInfo",query:{id:t}})}}},l=c,u=e("2877"),d=Object(u["a"])(l,s,n,!1,null,"2278bf48",null);a["default"]=d.exports},a1c8:function(t,a,e){"use strict";e.d(a,"a",function(){return s});e("28a5"),e("386d");function s(t){return null==t||void 0==t||""==t}},f4ac:function(t,a,e){"use strict";var s=e("b775"),n="/api/task/taskInfos",o={list:function(t,a){return s["a"].post(n+"/"+t,a)},list1:function(t,a){return s["a"].get(n+"/"+t,a)},taskFinish:function(t,a){return s["a"].post(n+"/"+t,a)},get:function(t){return s["a"].get(n+"/"+t)},save:function(t){return s["a"].post(n+"/save/",t)},saveComposition:function(t){return s["a"].post(n+"/myTaskDecompose/",t)},delete:function(t){return s["a"].delete(n+"/"+t)},getInfos:function(t){return s["a"].get(n+"/getTaskInfos?taskid="+t)},acceptTask:function(t,a){return s["a"].get(n+"/taskAcceptor?taskInfoId="+a+"&userName="+t)},noAcceptTask:function(t,a){return s["a"].get(n+"/taskNoAcceptor?taskInfoId="+a+"&userName="+t)},taskBatchAcceptor:function(t,a){return s["a"].get(n+"/taskBatchAcceptor?taskInfoIdS="+a+"&userName="+t)}};a["a"]=o}}]);