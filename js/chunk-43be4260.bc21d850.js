(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43be4260"],{"0675":function(e,t,o){"use strict";var s=o("b775"),n="/api/sys/sysUsers",r={list:function(e){return s["a"].get(n+"/",e)},get:function(e){return s["a"].get(n+"/"+e)},save:function(e){return s["a"].post(n+"/",e)},delete:function(e){return s["a"].delete(n+"/"+e)},getListByOrgId:function(e){return s["a"].get(n+"/organization/"+e)},checkExistsPhone:function(e){return s["a"].get(n+"/phone/"+e)},checkExistsUserName:function(e){return s["a"].get(n+"/userName/"+e)},updateRelationRole:function(e,t){return s["a"].post(n+"/"+e+"/roles",t)},updateUserPassword:function(e){return s["a"].post(n+"/updateUserPassword",e)},upsetUserPassword:function(e){return s["a"].post(n+"/upsetUserPassword/"+e)}};t["a"]=r},"07f7":function(e,t,o){},a3f9:function(e,t,o){"use strict";var s=o("07f7"),n=o.n(s);n.a},dd7b:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login_container"},[o("h1",{staticClass:"login-title"},[e._v("登录")]),o("form",{staticClass:"login",attrs:{model:e.loginForm,action:"javascript:;"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.userName,expression:"loginForm.userName"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.loginForm.userName},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"userName",t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}}),o("div",{staticClass:"button-row"},[o("mt-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.handleLogin(t)}}},[e._v("登录")])],1)])])},n=[],r=o("cc33"),a=o("0675"),i={name:"login",data:function(){return{loginForm:{userName:"",password:""},redirect:"/home",loading:!1}},watch:{},methods:{handleLogin:function(){var e=this;console.log(1),this.loading=!0,this.$store.dispatch("user/Login",this.loginForm).then(function(t){console.log(t),e.loading=!1,console.log(o);var o=Object(r["a"])();console.log(o),o&&a["a"].get(o.userId).then(function(t){var o=t.data.data;sessionStorage.setItem("userId",o.id),sessionStorage.setItem("nickName",o.nickName),sessionStorage.setItem("areaCode",o.areaCode),sessionStorage.setItem("userName",o.userName),e.$store.dispatch("user/StoreUser",o),e.$router.push({path:e.$route.query.redirect||"/home"})})}).catch(function(){console.log(3),e.loading=!1})}}},u=i,c=(o("a3f9"),o("2877")),l=Object(c["a"])(u,s,n,!1,null,"8395162c",null);t["default"]=l.exports}}]);