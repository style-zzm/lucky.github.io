(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c5d30e1"],{"0b05":function(e,t,a){},c72e:function(e,t,a){"use strict";var o=a("b775"),n="/api/task/taskWorkExecuteDetaileds",r={list:function(e){return o["a"].get(n+"/",e)},get:function(){return o["a"].get(n+"/",params)},getPeopleInfo:function(e,t){return o["a"].get(n+"/findTaskWorkExecuteDetailedListBo?taskUserExecuteId="+e+"&organizationId="+t)},updateIsWrite:function(e){return o["a"].post(n+"/executeDetailedIsWrite",e)}};t["a"]=r},d392:function(e,t,a){"use strict";var o=a("b775"),n="/api/people/communityPeoples",r={list:function(e){return o["a"].get(n+"/",e)},aggregationList:function(e){return o["a"].get(n+"/aggregationList",e)},get:function(e){return o["a"].get(n+"/"+e)},save:function(e){return o["a"].post(n+"/",e)},delete:function(e){return o["a"].delete(n+"/"+e)},saveApplyFormData:function(e,t){return o["a"].post(n+"/apply/"+e,t)},saveCareFormData:function(e,t){return o["a"].post(n+"/care/"+e,t)},qryPeopleBaseList:function(e){return o["a"].get(n+"/qryPeopleBaseList",e)},qryAllPeopleBaseList:function(e){return o["a"].post(n+"/qryAllPeopleBaseList",e)}};t["a"]=r},e775:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[e.peopleInfo.basePeople?a("div",{staticClass:"detail-form content"},[e._m(0),a("mt-field",{attrs:{readonly:!0,"disable-clear":!0,label:"姓名",value:e.peopleInfo.basePeople.name}}),a("mt-field",{attrs:{readonly:!0,"disable-clear":!0,label:"性别",value:1==e.peopleInfo.basePeople.gender||"男"==e.peopleInfo.basePeople.gender?"男":"女"}}),a("mt-field",{attrs:{readonly:!0,"disable-clear":!0,label:"年龄",value:e.peopleAge}}),a("mt-field",{attrs:{readonly:!0,"disable-clear":!0,label:"身份证号码",value:e.peopleInfo.basePeople.idCode}}),a("mt-field",{attrs:{readonly:!0,"disable-clear":!0,label:"家庭住址",value:e.peopleInfo.basePeople.inhabitedArea}}),a("mt-field",{attrs:{readonly:!0,"disable-clear":!0,label:"户籍门（楼）详址",value:e.peopleInfo.basePeople.householdPlace}}),a("mt-field",{attrs:{readonly:!0,"disable-clear":!0,label:"备注",value:e.peopleInfo.basePeople.remarks}}),e._m(1),a("mt-cell",{attrs:{title:"选择签约医生"}},[a("el-select",{staticClass:"doctor-select",attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.handleDoctorChange},model:{value:e.peopleInfo.doctorId,callback:function(t){e.$set(e.peopleInfo,"doctorId",t)},expression:"peopleInfo.doctorId"}},e._l(e.doctorList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+" ("+e.hospitalName+")",value:e.id}})}),1)],1)],1):e._e(),a("div",{staticClass:"footer"},[this.$route.query.backto?e._e():a("mt-button",{staticClass:"mint-button mint-button--primary",attrs:{size:"large",type:"primary"},on:{click:e.save}},[e._v("保存")])],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-title"},[a("i",{staticClass:"iconfont icon-neirong"}),e._v("基本信息 ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-title"},[a("i",{staticClass:"icomoon-user-tie"}),e._v("签约医生 ")])}],r=(a("7f7f"),a("d392")),i=a("b775"),l="/api/district/doctors",s={list:function(e){return i["a"].get(l+"/",e)},get:function(e){return i["a"].get(l+"/"+e)},save:function(e){return i["a"].post(l+"/",e)},delete:function(e){return i["a"].delete(l+"/"+e)}},c=s,u=a("c72e"),d={name:"doctor",data:function(){return{peopleInfo:{},doctorList:[]}},mounted:function(){var e=this;c.list({pageNum:0,pageSize:999,total:0}).then(function(t){e.doctorList=t.data.data.records}),r["a"].get(this.$route.query.relationid).then(function(t){e.peopleInfo=t.data.data})},computed:{peopleAge:{get:function(){return this.peopleInfo.basePeople.birthday?(new Date).getFullYear()-new Date(this.peopleInfo.basePeople.birthday).getFullYear():"未知"}}},methods:{handleDoctorChange:function(e){for(var t in this.doctorList)this.doctorList[t].id==e&&(this.peopleInfo.doctorName=this.doctorList[t].name)},save:function(){var e=this;this.peopleInfo.doctorId||(this.peopleInfo.doctorName=""),r["a"].save(this.peopleInfo).then(function(t){t.data.data?(Toast({message:"操作成功",iconClass:"icon icon-success"}),u["a"].updateIsWrite({taskId:e.$route.query.taskid,workId:e.$route.query.workid,relationid:e.$route.query.relationid}).then(function(e){e.data.data&&console.log("iswrite updated")}),e.goBack()):Toast({message:"操作失败",iconClass:"icon icon-success"})})},goBack:function(){this.$router.go(-1)}}},p=d,f=(a("fe2c"),a("2877")),b=Object(f["a"])(p,o,n,!1,null,"6765d76f",null);t["default"]=b.exports},fe2c:function(e,t,a){"use strict";var o=a("0b05"),n=a.n(o);n.a}}]);