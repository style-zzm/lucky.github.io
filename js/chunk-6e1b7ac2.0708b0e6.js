(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e1b7ac2"],{"0cf8":function(d,e,t){"use strict";t.r(e);var a=function(){var d=this,e=d.$createElement,t=d._self._c||e;return t("div",{attrs:{id:"wrapper"}},[t("div",{staticClass:"content detail-form"},[t("mt-field",{attrs:{label:"上城区街道名",placeholder:"请输入上城区街道名"},model:{value:d.form.ydzdj.ydzdj_scqjdm,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_scqjdm",e)},expression:"form.ydzdj.ydzdj_scqjdm"}}),t("mt-field",{attrs:{label:"社区名",placeholder:"请输入社区名"},model:{value:d.form.ydzdj.ydzdj_sqm,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_sqm",e)},expression:"form.ydzdj.ydzdj_sqm"}}),t("mt-field",{attrs:{label:"社区代码",placeholder:"请输入社区代码"},model:{value:d.form.ydzdj.ydzdj_sqdm,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_sqdm",e)},expression:"form.ydzdj.ydzdj_sqdm"}}),t("mt-field",{attrs:{label:"填表人",placeholder:"请输入填表人"},model:{value:d.form.ydzdj.ydzdj_tbr,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_tbr",e)},expression:"form.ydzdj.ydzdj_tbr"}}),t("mt-field",{attrs:{label:"填表日期",readonly:!0,"disable-clear":!0,placeholder:"填表日期"},model:{value:d.form.ydzdj.ydzdj_tbrq,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_tbrq",e)},expression:"form.ydzdj.ydzdj_tbrq"}},[t("i",{staticClass:"icomoon-calendar",on:{click:d.openPicker}})]),t("mt-datetime-picker",{ref:"pickerDate",attrs:{type:"date","year-format":"{value}","month-format":"{value}","date-format":"{value}","hour-format":"{value}","minute-format":"{value}"},on:{confirm:d.formatDate},model:{value:d.ydzdj_tbrq,callback:function(e){d.ydzdj_tbrq=e},expression:"ydzdj_tbrq"}}),t("mt-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:d.form.ydzdj.ydzdj_xm,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_xm",e)},expression:"form.ydzdj.ydzdj_xm"}}),t("mt-radio",{attrs:{title:"性别",options:[{label:"男",value:"0"},{label:"女",value:"1"}]},model:{value:d.form.ydzdj.ydzdj_xb,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_xb",e)},expression:"form.ydzdj.ydzdj_xb"}}),t("mt-field",{attrs:{label:"年龄",type:"number"},model:{value:d.form.ydzdj.ydzdj_nl,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_nl",e)},expression:"form.ydzdj.ydzdj_nl"}}),t("mt-field",{attrs:{label:"身份证号",placeholder:"请输入身份证号"},model:{value:d.form.ydzdj.ydzdj_sfzh,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_sfzh",e)},expression:"form.ydzdj.ydzdj_sfzh"}}),t("mt-field",{attrs:{label:"家庭住址",placeholder:"请输入家庭住址"},model:{value:d.form.ydzdj.ydzdj_jtzz,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_jtzz",e)},expression:"form.ydzdj.ydzdj_jtzz"}}),t("mt-radio",{attrs:{title:"居住情况",options:[{label:"空巢",value:"0"},{label:"独居",value:"1"},{label:"与子女同住",value:"2"},{label:"孤寡",value:"3"}]},model:{value:d.form.ydzdj.ydzdj_jjqk,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_jjqk",e)},expression:"form.ydzdj.ydzdj_jjqk"}}),t("mt-radio",{attrs:{title:"身体状况",options:[{label:"良好",value:"0"},{label:"一般",value:"1"},{label:"不好",value:"2"}]},model:{value:d.form.ydzdj.ydzdj_stzk,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_stzk",e)},expression:"form.ydzdj.ydzdj_stzk"}}),t("mt-radio",{attrs:{title:"经济条件",options:[{label:"低保困难",value:"0"},{label:"低收入",value:"1"},{label:"低退休工资（2000元以下）",value:"2"},{label:"退休工资（2000-3000元）",value:"3"},{label:"大于3000元",value:"4"}]},model:{value:d.form.ydzdj.ydzdj_jjtj,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_jjtj",e)},expression:"form.ydzdj.ydzdj_jjtj"}}),t("mt-radio",{attrs:{title:"特殊贡献",options:[{label:"市级以上劳模",value:"0"},{label:"重点优抚对象",value:"1"},{label:"纯居干",value:"2"},{label:"失独",value:"3"},{label:"归侨",value:"4"}]},model:{value:d.form.ydzdj.ydzdj_tsgx,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_tsgx",e)},expression:"form.ydzdj.ydzdj_tsgx"}}),t("mt-field",{attrs:{label:"联系电话",placeholder:"请输入联系电话"},model:{value:d.form.ydzdj.ydzdj_lxdh,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_lxdh",e)},expression:"form.ydzdj.ydzdj_lxdh"}}),t("mt-radio",{attrs:{title:"是否社会化管理",options:[{label:"是",value:"1"},{label:"否",value:"0"}]},model:{value:d.form.ydzdj.ydzdj_sfshhgl,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_sfshhgl",e)},expression:"form.ydzdj.ydzdj_sfshhgl"}}),t("mt-field",{attrs:{label:"服务需求",type:"textarea",placeholder:"请输入服务需求"},model:{value:d.form.ydzdj.ydzdj_fwxq,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_fwxq",e)},expression:"form.ydzdj.ydzdj_fwxq"}}),t("mt-field",{attrs:{label:"备注",type:"textarea",placeholder:"请输入备注"},model:{value:d.form.ydzdj.ydzdj_bz,callback:function(e){d.$set(d.form.ydzdj,"ydzdj_bz",e)},expression:"form.ydzdj.ydzdj_bz"}})],1),t("footer",{staticClass:"footer"},[this.$route.query.backto?d._e():t("mt-button",{staticClass:"mint-button mint-button--primary",attrs:{size:"large",type:"primary"},on:{click:d.doSaveApplyFormData}},[d._v("提交")])],1)])},o=[],l=(t("7f7f"),t("4f10")),r=t("d392"),s=t("c72e"),n={name:"yldzForm",data:function(){return{isCollapse:!1,addclass:"message",form:{ydzdj:{ydzdj_scqjdm:"",ydzdj_sqm:"",ydzdj_sqdm:"",ydzdj_tbr:"",ydzdj_tbrq:"",ydzdj_xm:"",ydzdj_xb:"0",ydzdj_nl:"0",ydzdj_sfzh:"",ydzdj_jtzz:"",ydzdj_jjqk:"0",ydzdj_jjtj:"0",ydzdj_tsgx:"0",ydzdj_stzk:"0",ydzdj_sfshhgl:"1",ydzdj_fwxq:"",ydzdj_bz:"",ydzdj_lxdh:"",ydzdj_bh:"",ydzdj_qm:""}},peopleId:"1",ydzdj_tbrq:new Date,taskid:"",workid:"",relationid:""}},created:function(){this.relationid=this.$route.query.relationid||"bbce153e556b48f7958a284d84326316",this.peopleId=this.relationid,console.log(this.peopleId),this.initFormData()},methods:{goBack:function(){this.$router.go(-1)},getPeopleInfo:function(){var d=this;l["a"].get(this.workid).then(function(e){console.log(e.data.data.records[0].pagePath),d.$router.push({path:e.data.data.records[0].pagePath})})},showFormInfo:function(){console.log(this.form)},initFormData:function(){var d=this,e=(new Date).format("yyyy-MM-dd"),t=sessionStorage.getItem("nickName");r["a"].get(this.peopleId).then(function(a){if(a.data&&0===a.data.code){var o=a.data.data;if(o){if(o.applyFormData)return console.log(o.applyFormData),void(d.form=JSON.parse(o.applyFormData));d.form.ydzdj.ydzdj_lxdh=o.contactNum,o&&o.basePeople&&(d.form.ydzdj.ydzdj_xb="1"==o.basePeople.gender||"男"==o.basePeople.gender?0:1,d.form.ydzdj.ydzdj_sfzh=o.basePeople.idCode,d.form.ydzdj.ydzdj_jtzz=o.basePeople.householdPlace,d.form.ydzdj.ydzdj_xm=o.basePeople.name),d.form.ydzdj.ydzdj_tbr=t,d.form.ydzdj.ydzdj_tbrq=d.form.ydzdj.ydzdj_tbrq||e,d.ydzdj_tbrq=new Date(d.form.ydzdj.ydzdj_tbrq)}}}).catch(function(d){console.log(d)})},doSaveApplyFormData:function(){var d=this;r["a"].saveApplyFormData(this.peopleId,this.form).then(function(e){e.data&&0===e.data.code&&(Toast({message:"operation success",iconClass:"icon icon-success"}),s["a"].updateIsWrite({taskId:d.$route.query.taskid,workId:d.$route.query.workid,relationid:d.$route.query.relationid}).then(function(d){d.data.data&&console.log("iswrite updated")}),d.goBack())}).catch(function(d){console.log(d)})},openPicker:function(){this.$refs["pickerDate"].open()},formatDate:function(d){this.form.ydzdj.ydzdj_tbrq=d?d.format("yyyy-MM-dd"):""}}},i=n,y=t("2877"),j=Object(y["a"])(i,a,o,!1,null,null,null);e["default"]=j.exports},"4f10":function(d,e,t){"use strict";var a=t("b775"),o="/api/matter/forms",l={get:function(d){return a["a"].get(o+"/",d)},getFromByMatterId:function(d){return a["a"].get(o+"/form/".concat(d))}};e["a"]=l},c72e:function(d,e,t){"use strict";var a=t("b775"),o="/api/task/taskWorkExecuteDetaileds",l={list:function(d){return a["a"].get(o+"/",d)},get:function(){return a["a"].get(o+"/",params)},getPeopleInfo:function(d,e){return a["a"].get(o+"/findTaskWorkExecuteDetailedListBo?taskUserExecuteId="+d+"&organizationId="+e)},updateIsWrite:function(d){return a["a"].post(o+"/executeDetailedIsWrite",d)}};e["a"]=l},d392:function(d,e,t){"use strict";var a=t("b775"),o="/api/people/communityPeoples",l={list:function(d){return a["a"].get(o+"/",d)},aggregationList:function(d){return a["a"].get(o+"/aggregationList",d)},get:function(d){return a["a"].get(o+"/"+d)},save:function(d){return a["a"].post(o+"/",d)},delete:function(d){return a["a"].delete(o+"/"+d)},saveApplyFormData:function(d,e){return a["a"].post(o+"/apply/"+d,e)},saveCareFormData:function(d,e){return a["a"].post(o+"/care/"+d,e)},qryPeopleBaseList:function(d){return a["a"].get(o+"/qryPeopleBaseList",d)},qryAllPeopleBaseList:function(d){return a["a"].post(o+"/qryAllPeopleBaseList",d)}};e["a"]=l}}]);