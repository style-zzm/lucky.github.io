(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddcfa31e"],{"09c7":function(t,a,e){"use strict";var s=e("b775"),n="/api/task/taskUserExecutes",o={list:function(t,a){return s["a"].get(n+"/"+t,a)},taskFinish:function(t,a){return s["a"].post(n+"/"+t,a)},taskInfoRollback:function(t){return s["a"].post(n+"/taskInfoRollback?taskUserExecuteId="+t)},get:function(t){return s["a"].get(n+"/"+t)},getInfos:function(t){return s["a"].get(n+"/getTaskUserExecute?taskUserExecuteId="+t)},acceptTask:function(t,a){return s["a"].post(n+"/taskInfoReceive?taskUserExecuteId="+a+"&userId="+t)},noAcceptTask:function(t,a){return s["a"].get(n+"/taskNoAcceptor?taskUserExecuteId="+a+"&userId="+t)},taskBatchAcceptor:function(t,a){return s["a"].get(n+"/taskBatchAcceptor?taskInfoIdS="+a+"&userName="+t)},complaint:function(t,a){return s["a"].post(n+"/taskDeliverTo?taskUserExecuteId="+t+"&organizationid="+a)},taskAllocation:function(t){return s["a"].post(n+"/taskAllocation",t)},taskHandleList:function(t,a){return s["a"].get(n+"/taskHandleList?userId="+t,a)},taskHasten:function(t){return s["a"].post(n+"/taskHasten?userId="+t.userId+"&taskId="+t.taskId+"&taskUserExecuteId="+t.taskUserExecuteId+"&content="+t.content)},taskUserExecuteListOrganizationPids:function(t){return s["a"].get(n+"/taskUserExecuteListOrganizationPids?organizationid="+t)}};a["a"]=o},"382b":function(t,a,e){"use strict";var s="http://47.97.248.6:81/excelsior/",n="http://47.97.248.6:8888/",o=0,r=1,i=2,c=3,u=4,d=5,l=6,_=7,I=8;a["a"]={baseURL:s,fileUrl:n,TASK_INFO_ZHANCUN:o,TASK_INFO_TORECEIVE:r,TASK_INFO_TOPERFORM:i,TASK_INFO_REDEPLOY:c,TASK_INFO_SPLIT:u,TASK_INFO_TOBEEVALUATED:d,TASK_INFO_BEEVALUATED:l,TASK_INFO_TONOTHING:_,TASK_INFO_SUCCESS:I}},a1c8:function(t,a,e){"use strict";e.d(a,"a",function(){return s});e("28a5"),e("386d");function s(t){return null==t||void 0==t||""==t}},ba75:function(t,a,e){"use strict";var s=e("fad2"),n=e.n(s);n.a},dbec:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"wrapper"}},[e("div",{staticClass:"content"},[e("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1},on:{"bottom-status-change":t.handleBottomChange}},[e("ul",{staticClass:"list"},[t._l(t.items,function(a,s){return e("li",{key:s,on:{click:function(e){return t.goTaskInfo(a.id)}}},[a.taskInfo?e("h3",[a.overdue?e("span",{staticClass:"overdue"},[t._v("【已过期】")]):t._e(),t._v("\n                        "+t._s(a.taskInfo.taskname)+"\n                        "),e("span",{staticClass:"tag1"},[t._v(t._s(t.getStatusName(a.status)))]),e("span",{staticClass:"urgent urgent3"},t._l(a.taskInfo.level,function(t){return e("i",{key:t,staticClass:"dot"})}),0)]):t._e(),e("p",{staticClass:"text"},[t._v(t._s(a.taskInfo.content))]),e("p",[e("span",{staticClass:"publisher"},[t._v(t._s(a.taskInfo.creationUser.orgName))]),e("span",{staticClass:"time"},[t._v(t._s(a.createtime))])])])}),t.allLoaded?e("div",{staticClass:"data-none"},[t._v("没有更多数据了")]):t._e(),e("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[e("mt-spinner",{directives:[{name:"show",rawName:"v-show",value:"loading"==t.bottomStatus,expression:"bottomStatus == 'loading'"}],attrs:{color:"#26a2ff"}})],1)])],2)])],1)])},n=[],o=(e("28a5"),e("ac6a"),e("09c7")),r=e("a1c8"),i=e("382b"),c={name:"taskAcceptedList",data:function(){return{items:[],query:{pageNum:0,pageSize:10,total:0,objectlist:"",integrityrate:"",feedbacktime:"",checkcontent:"",pid:"",userid:"",pids:"",evaluate:"",publisstate:"",id:"",finishcontext:"",status:"",workid:"",level:"",code:"",content:"",executetime:"",eventid:"",finishfiles:"",checktype:"",checkuser:"",executor:"",taskname:"",tasktype:""},userId:"",taskInfoStatus:{TASK_INFO_ZHANCUN:i["a"].TASK_INFO_ZHANCUN,TASK_INFO_TORECEIVE:i["a"].TASK_INFO_TORECEIVE,TASK_INFO_TOPERFORM:i["a"].TASK_INFO_TOPERFORM,TASK_INFO_REDEPLOY:i["a"].TASK_INFO_REDEPLOY,TASK_INFO_SPLIT:i["a"].TASK_INFO_SPLIT,TASK_INFO_TOBEEVALUATED:i["a"].TASK_INFO_TOBEEVALUATED,TASK_INFO_BEEVALUATED:i["a"].TASK_INFO_BEEVALUATED,TASK_INFO_TONOTHING:i["a"].TASK_INFO_TONOTHING,TASK_INFO_SUCCESS:i["a"].TASK_INFO_SUCCESS},allLoaded:!1,bottomStatus:"",end_date:""}},created:function(){this.userId=sessionStorage.getItem("userId"),this.end_date=new Date},mounted:function(){this.getList()},methods:{getList:function(){var t=this;o["a"].list("taskAcceptorList?userId="+this.userId,this.query).then(function(a){console.log(a.data.data),a.data.data.records&&a.data.data.records.forEach(function(a){a.taskInfo&&(console.log(t.getTimeStamp(a.taskInfo.endtime)),t.getTimeStamp(a.taskInfo.endtime)<t.getTimeStamp(t.end_date)&&(a.overdue=!0));var e=a.createtime.split(" ");a.createtime=e[0]}),t.items=t.items.concat(a.data.data.records||[]),t.query.pageNum=a.data.data.current,t.query.pageSize=a.data.data.size,t.query.total=a.data.data.total,a.data.data.records?a.data.data.records.length<a.data.data.size&&(t.allLoaded=!0,t.$refs.loadmore.onBottomLoaded()):(t.allLoaded=!0,t.$refs.loadmore.onBottomLoaded()),t.handleBottomChange("loadingEnd")})},getStatusName:function(t){if(t===i["a"].TASK_INFO_ZHANCUN)return"待接受";if(Object(r["a"])(t))return"";switch(!0){case t==i["a"].TASK_INFO_TORECEIVE:return"接受失败";case t==i["a"].TASK_INFO_TOPERFORM:return"待执行";case t==i["a"].TASK_INFO_REDEPLOY:return"已转派";case t==i["a"].TASK_INFO_SPLIT:return"已拆分";case t==i["a"].TASK_INFO_TOBEEVALUATED:return"已执行";case t==i["a"].TASK_INFO_BEEVALUATED:return"已评价";case t==i["a"].TASK_INFO_TONOTHING:return"注销";case t==i["a"].TASK_INFO_SUCCESS:return"成功";default:return""}},handleBottomChange:function(t){this.bottomStatus=t},loadBottom:function(){this.handleBottomChange("loading"),this.query.pageNum++,this.getList()},goTaskInfo:function(t){console.log(t),this.$router.push({path:"/home/taskInfo",query:{id:t}})},getTimeStamp:function(t){var a=t,e=new Date(a),s=Date.parse(e)/1e3;return s}}},u=c,d=(e("ba75"),e("2877")),l=Object(d["a"])(u,s,n,!1,null,"7b896965",null);a["default"]=l.exports},fad2:function(t,a,e){}}]);